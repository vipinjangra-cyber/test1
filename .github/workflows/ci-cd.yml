name: Full stack CI

on: 
    push:
        branches: [main] 

jobs: 
    backend: 
        runs-on: ubuntu-latest
        defaults:
            run:
                working-directory: backend
        steps: 
            - name: Checkout code  
              uses: actions/checkout@v4

            - name: Setup Node
              uses: actions/setup-node@v4
              with:
                node-version: 18

            - name: Install Dependies
              run: npm install

            - name: run tests
              run: npm test

    frontend: 
        runs-on: ubuntu-latest
        defaults:
            run:
                working-directory: frontend
        steps: 
            - name: checkout code 
              uses: actions/checkout@v3

            - name: Validation frontend
              run: echo "frontend working well"
